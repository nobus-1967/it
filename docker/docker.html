<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>Docker в учебных целях (на примере PostgreSQL)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Анатолий Щербина">
    <meta name="description"
          content="Изучение Docker на примере развертывания PostgreSQL">
    <meta name="keywords"
          content="Docker, DockerHub, PostgreSQL, SQL, Beekeeper Studio, Python, база данных, СУБД, Анатолий Щербина">
    <link rel="stylesheet" href="docker.css">
</head>

<body>
<header id="beginning">
    <h1><em>Docker</em> в учебных целях (на примере <em>PostgreSQL</em>)</h1>
</header>
<nav>
    <p class="itpage"><a href="/index.html"
                         title="К списку заметок компьютерной тематики">&rarr;&nbsp;За
        компьютером</a></p>
    <figure><img src="img/docker.png" alt="Docker" height="256"
                 width="256"></figure>
    <ul class="navlinks">
        <li>
            <a href="#part01">
                Зачем нужен <em>Docker</em>
            </a>
        </li>
        <li>
            <a href="#part02">
                Развертывание образов <em>Docker</em> на локальной машине
            </a>
        </li>
        <li>
            <a href="#part03">
                Установка образа <abbr title="Система управления базами данных">
                СУБД</abbr> <em>PostgreSQL 14</em> из <em>DockerHub</em>
            </a>
        </li>
        <li>
            <a href="#part04">
                Запуск и использование контейнера с <abbr
                    title="Система управления базами данных">СУБД</abbr>
            </a>
        </li>
        <li>
            <a href="#part05">
                Работа со сторонними приложениями (на примере <em>Beekeeper
                Studio</em>)
            </a>
        </li>
    </ul>
</nav>
<main>
    <section>
        <h2 id="part01">
            Зачем нужен <em>Docker</em>
        </h2>
        <figure>
            <img src="img/docker-logo.png" alt="Логотип Docker"
                 height="566" width="1000">
        </figure>
        <p><em><a href="https://www.docker.com/"
                  title="Официальный сайт Docker"
                  target="_blank">Docker</a></em> &mdash; это платформа, которая
            позволяет &laquo;создавать, поставлять и запускать любое приложение
            повсюду&raquo;. Революционность данного решения состоит в его
            кроссплатформенности и относительной простоте установки и
            использования в практически любой компьютерной среде:
            так, например, на компьютере с <abbr
                    title="Операционная система">OС</abbr> <em>Microsoft
                Windows</em> вы можете работать с полноценным
            <em>Linux</em>-терминалом внутри полноценного дистрибутива
            <em>GNU/Linux</em>, не устанавливая себе вторую операционную
            систему в режиме двойной загрузки. Более того, вы сможете установить
            себе контейнеры с любым количеством разных дистрибутивов
            <em>Linux</em> (<em>Ubuntu</em>, <em>Debian</em>, <em>Arch
                Linux</em>, <em>AlmaLinux</em>, <em>Oracle Linux</em>,
            <em>Amazon Linux</em>, <em>Alpine</em> и многие другие).</p>
        <p>Это похоже на использование виртуальных машин, только проще &mdash;
            намного проще и намного удобнее. А еще <em>Docker</em> гораздо
            быстрее любой виртуальной машины!</p>
        <p>Но преимущества этой технологии не ограничиваются развертыванием
            операционных систем: образы <em>Docker</em> позволяют упаковать
            прикладное программное обеспечение и развернуть его на любом
            современном компьютере: это может быть <abbr
                    title="Система управления базами данных">СУБД</abbr>;
            компиляторы, интерпретаторы и движки для языков программирования,
            например, <em>Go</em>, <em>Python</em> или <em>Node.js</em>;
            командные оболочки вроде <em>Bash</em> и др. Вот почему
            <em>Docker</em> отлично подойдет для учебных целей &mdash; вы
            можете получить и использовать новые технологии без лишних затрат
            времени и ресурсов.</p>
        <p>И, самое главное, вам не нужно создавать эти образы самому (если,
            конечно, вы не захотите научиться делать это сами): на
            &laquo;складе&raquo; т.&nbsp;е. в публичном репозитории
            <em><a href="https://hub.docker.com/"
                   title="Публичный репозиторий DockerHub"
                   target="_blank">DockerHub</a></em>, имеются образы с <abbr
                    title="Программное обеспечение">ПО</abbr> практически для
            любых ваших потребностей!</p>
        <p>Но есть один нюанс: развертываемые с помощью <em>Docker</em>
            приложения ориентированы на работу в режиме командной строки. Вы же
            не боитесь командной строки? К тому же для
            <em>Docker</em>-контейнеров можно использовать программы с
            графическим интерфейсом &mdash; в данной заметке мы также увидим,
            как это работает.</p>
        <p>С документацией по <em>Docker</em> можно ознакомиться на
            <a href="https://docs.docker.com/"
               title="Официальная документация по Docker"
               target="_blank">официальном сайте</a>.
            Также рекомендую ознакомится с прекрасным руководством
            <a href="https://docker-handbook.farhan.dev/"
               title="The Docker Handbook"
               target="_blank">The Docker Handbook</a>. Существует
            множество видеокурсов по использованию <em>Docker</em>, в
            частности, один из таких курсов &mdash;
            <a href="https://youtu.be/n9uCgUzfeRQ"
               title="Docker для начинающих: полный курс"
               target="_blank">Docker для начинающих: полный курс
                (2021)</a>.</p>
    </section>
    <section>
        <h2 id="part02">
            Развертывание образов <em>Docker</em> на локальной машине
        </h2>
        <p>Для начала надо установить Docker на вашей локально машине. Как это
            сделать &mdash; зависит от <abbr
                    title="Операционная система">ОС</abbr> на вашем компьютере;
            поэтому мы не будем останавливаться на данном шаге, переадресовав
            вас к <a href="https://docs.docker.com/get-docker/"
                     title="Руководство по установке Docker"
                     target="_blank">официальному руководству</a>.</p>
        <p>Для <em>MS Windows</em> и <em>macOS</em> существуют приложения с
            графическим интерфейсом &mdash; <em>Docker Desktop</em>. Для
            <em>Linux</em> тоже есть графическая <em>DockStation</em>, но
            далее в этой заметке мы будем устанавливать и запускать
            <em>Docker</em>-контейнеры из командной строки, поскольку такой
            подход позволит нам разобраться с важными настройками.</p>
        <p>Кстати, а что собой представляют образы и контейнеры <em>Docker</em>
            и в чем разница между ними?</p>
        <p>Образ &mdash; это упакованное разработчиком исходное программное
            обеспечение. Он похож на диск с программой, который вы вставляете в
            компьютер и устанавливаете в свою операционную систему; при этом сам
            образ никак не изменяется. Технически образ состоит из различных
            слоев файловой системы и метаданных, но сейчас тонкости строения
            образов нам не нужны.</p>
        <p>Контейнер &mdash; это запущенный (другими словами:
            <em>активированный</em>) экземпляр <em>Docker</em>-образа. У вас
            может быть несколько контейнеров, запущенных с одного образа &mdash;
            это как несколько экземпляров одной книги, напечатанных с одного и
            того же типографского макета. Но, будучи запущенными, контейнеры
            начинают жить своей собственной жизнью: вы можете модифицировать
            содержимое контейнера, и он будет теперь отличаться от прочих своих
            братьев, которые породил один и тот же образ (как физический
            экземпляр вашей книги с вашими пометками отличается от экземпляров
            той же самой книги у других читателей или в библиотеке). Как бы вы
            не модифицировали дочерний контейнер, это никак не отразится ни на
            исходном образе, ни на других &laquo;сестринских&raquo; контейнерах
            &mdash; все они изолированы друг от друга. (Мы не будем затрагивать
            эту тему, но модифицированный контейнер очень просто превратить в
            новый исходный образ &mdash; так возможно не только сохранять
            <abbr title="Программное обеспечение">ПО</abbr> с нужными
            настройками, но и передавать настроенное <abbr
                    title="Программное обеспечение">ПО</abbr> другим
            пользователям в виде образа для установки.)</p>
        <p>Проще говоря, образ &mdash; это исходный (родительский) и
            неизменяемый вариант <abbr
                    title="Программное обеспечение">ПО</abbr>, а контейнер
            &mdash; это дочерний и изменяемый вариант <abbr
                    title="Программное обеспечение">ПО</abbr>, работающий на
            вашей машине. После того как пользователь первый раз запустил
            контейнер, он может затем исполнять (<em>стартовать</em>) данный
            контейнер нужное ему количество раз; после исполнения
            <em>Docker</em>-контейнер завершает работу с сохраненными
            изменениями &mdash; это как прогресс в компьютерной игре, который
            сохраняется по окончании игрового сеанса.</p>
        <p>Основная функция <em>Docker</em> &mdash; создавать, передавать и
            запускать упакованное <abbr
                    title="Программное обеспечение">ПО</abbr> на любом
            компьютере, где установлен сам <em>Docker</em>. Для обычного
            пользователя такое <abbr title="Программное обеспечение">ПО</abbr>
            выглядит как программа с командной строкой, которой можно
            манипулировать: при старте контейнер запускает на вашем компьютере
            какой-то процесс (программу), который реагирует на ваши команды и
            выполняет определенную работу; когда этот процесс завершается,
            контейнер останавливается. Все необходимые изменения (например,
            новые файлы, созданные при использовании контейнера) будут сохранены
            либо в данном контейнере, либо &mdash; если установить нужные
            настройки &mdash; в специальном томе, т.&nbsp;е. во внешнем (по
            отношению к контейнеру) месте вашей <abbr
                    title="Операционная система">ОС</abbr> &mdash; в частности,
            в каком-либо специальном каталоге на жестком диске (это как облачное
            хранилище, которое одновременно подключено и к контейнеру, и к
            файловой системе вашей <abbr title="Операционная система">ОС</abbr>,
            хотя обычно это физически раздел именно вашей файловой системы). В
            этом отношении контейнер можно назвать песочницей &mdash; специально
            выделенной (изолированной) средой для исполнения компьютерных
            программ.</p>
        <p>Чтобы усвоить данную концепцию, давайте установим и запустим
            контейнер с версией языка программирования <em>Python</em>. Мы
            загрузим с <a href="https://hub.docker.com/_/python"
                          title="Официальные образы Python"
                          target="_blank">DockerHub</a> свежий официальный
            образ в <em>Linux</em>-контейнере, основанном на
            <em>Debian</em>.</p>
        <h3>Шаг 1 &mdash; скачиваем образ <em>Python</em></h3>
        <p>Чтобы выбрать нужный нам образ из различных вариантов, существуют
            специальные теги (в данном случае необходимо будет указать тег
            <kbd>latest</kbd>). Сама загрузка происходит командой <code>docker
                pull</code>:</p>
        <code>docker pull python:latest</code>
        <p>После этого будет выполнена загрузка нужного образа из облачного
            репозитория <em>DockerHub</em> на ваш компьютер (образ скачивается в
            виде отдельных слоев, что экономит место: одни и те же слои могут
            использоваться для различных образов).</p>
        <p>Проверим наличие образов в нашей системе при помощи команды:</p>
        <code>docker images</code>
        <p>Как мы видим, нужный образ установлен и получил свой уникальный
            <kbd>ID</kbd> (<kbd>IMAGE ID</kbd>).</p>
        <figure>
            <img src="img/python_1.png"
                 alt="Загрузка образа Python" height="482" width="1000">
        </figure>
        <h3>Шаг 2 &mdash; создаем новый контейнер из образа</h3>
        <p>Это, пожалуй, самый сложный шаг, поскольку именно на данном этапе нам
            надо определиться с настройками для контейнера, в частности:</p>
        <ol>
            <li>
                определить запускаемый образ, который породит дочерний
                контейнер;
            </li>
            <li>
                дать ему удобное имя (ключ <code>--name NAME</code>, где
                <kbd>NAME</kbd> &mdash; имя будущего контейнера);
            </li>
            <li>
                определить, будет ли данный контейнер стартовать в интерактивном
                режиме (ключ <code>--it</code>) и какой процесс будет тогда
                запущен;
            </li>
            <li>
                если мы хотим использовать том для обмена данными и файлами
                между операционной системой и контейнером &mdash; указать
                путь к данному тому (ключ <code>--v 'PATH:VOLUME'</code>, где
                <kbd>PATH</kbd> &mdash; полный путь к папке вашей <abbr
                    title="Операционная система">ОС</abbr>, которая станет
                такой точкой обмена, а <kbd>VOLUME</kbd> &mdash; каталог в
                контейнере, в который монтируется папка из вашей операционной
                системы) и др.
            </li>
        </ol>
        <p>Первоначальный запуск контейнера происходит командой <code>docker
            run</code> с нужными ключами; в частности, приведенная ниже команда
            создает из скачанного образа контейнер с именем <kbd>python3</kbd> и
            подключает к нему том (папка операционной системы
            <kbd>/home/nobus/.docker-mnt</kbd> монтируется в контейнере в
            стандартный для <em>Linux</em> каталог для внешних устройств
            &mdash; <kbd>/mnt</kbd>), причем контейнер запускается в
            интерактивном режиме, при его старте будет исполнена командная
            оболочка <em>bash</em>:</p>
        <code>docker run --name python3 -v '/home/nobus/.docker-mnt:/mnt' -it
            python:latest bash</code>
        <p>Всё прошло удачно, контейнер запустился и мы оказались в командной
            оболочке, которой было передано управление. Из этой командной
            оболочки мы можем не только запускать интерпретатор языка
            <em>Python</em>, но и выполнять другие программы. Пока
            же давайте выйдем из <em>bash</em>, что остановит оболочку и
            завершит выполнение контейнера:</p>
        <code>exit</code>
        <p>А теперь проверим наличие вновь созданного контейнера командой
            <code>docker ps</code> (поскольку контейнер остановлен, нам
            потребуется ключ <code>-a</code>):</p>
        <code>docker ps -a</code>
        <p>Отлично, мы создали контейнер из готового образа (и он также получил
            свой уникальный <kbd>ID</kbd>).</p>
        <figure>
            <img src="img/python_2.png"
                 alt="Первоначальный запуск контейнера c Python" height="482"
                 width="1000">
        </figure>
        <h3>Шаг 3 &mdash; стартуем контейнер и останавливаем его</h3>
        <p>Теперь запустим наш контейнер заново. Можно это сделать при помощи
            команды <code>docker start</code> с указанием уникального
            <kbd>ID</kbd> контейнера (<kbd>CONTAINER ID</kbd>) или же с
            указанием имени контейнера &mdash; вот, кстати, для чего мы
            определяли это имя в шаге 2!</p>
        <p>Итак, стартуем контейнер по его <kbd>ID</kbd>:</p>
        <code>docker start &lt;CONTAINER ID&gt;</code>
        <p>Теперь проверим, стартовал ли наш контейнер:</p>
        <code>docker ps</code>
        <p>Да, он стартовал и находится в запущенном режиме. Давайте остановим
            его командой <code>docker stop</code> (нам также потребуется
            указать <kbd>CONTAINER ID</kbd>, ведь у нас в системе может быть
            несколько запущенных контейнеров):</p>
        <code>docker stop &lt;CONTAINER ID&gt;</code>
        <p>Проверим, запущен ли контейнер:</p>
        <code>docker ps</code>
        <p>На данный момент запущенных контейнеров нет.</p>
        <p>А теперь выполним те же действия с использованием имени контейнера.
            Запустим его:</p>
        <code>docker start python3</code>
        <p>И затем остановим:</p>
        <code>docker stop python3</code>
        <figure>
            <img src="img/python_3.png"
                 alt="Старт и остановка контейнера c Python" height="482"
                 width="1000">
        </figure>
        <h3>Шаг 4 &mdash; работаем с контейнером в интерактивном режиме</h3>
        <p>Но пока толку от запущенного контейнера нам было немного &mdash; он
            стартовал как &laquo;черный ящик&raquo; &mdash; и мы не могли с ним
            взаимодействовать в интерактивном режиме. Можно организовать такое
            взаимодействие, подключившись к запущенному контейнеру командой
            <code>docker attach</code> (нам вновь потребуется указать
            <kbd>ID</kbd> или имя контейнера):</p>
        <code>docker attach python3</code>
        <p>Теперь для завершения работы контейнера мы просто должны выйти из
            интерактивного режима (команда <code>exit</code>; не надо
            специально останавливать контейнер!).</p>
        <p>Есть и более простой путь: мы можем сразу стартовать контейнер в
            интерактивном режиме с ключом <code>-i</code>:</p>
        <code>docker start -i python3</code>
        <p>А теперь давайте снова запустим наш контейнер в интерактивном режиме
            и перейдем в интерпретатор <em>Python</em>, где можно будет
            выполнить команды <abbr title="Язык программирования">ЯП</abbr>.</p>
        <p>Кстати, если создать файл на <code>Python</code> и сохранить его в
            нашем томе (папке <abbr title="Операционная система">ОС</abbr>
            <kbd>/home/nobus/.docker-mnt</kbd>, который монтируется в каталог
            контейнера <kbd>/mnt</kbd>), то мы сможем запустить его в работающем
            контейнере!</p>
        <p>Также можно использовать установленный нами том для сохранения
            программ, создаваемых в работающем контейнере.</p>
        <figure>
            <img src="img/python_4.png"
                 alt="Запуск контейнера в интерактивном режиме" height="482"
                 width="1000">
        </figure>
        <h3>Шаг 5 &mdash; Удаляем контейнер и образ из системы</h3>
        <p>Чтобы удалить контейнер, мы можем воспользоваться командой
            <code>docker rm</code> с указанием уникального
            <kbd>CONTAINER ID</kbd>:</p>
        <code>docker rm &lt;CONTAINER ID&gt;</code>
        <p>Удалить образ чуть сложнее &mdash; для этого требуется, чтобы
            предварительно были удалены те контейнеры, которые были созданы на
            его основе (предыдущей командой). После этого можно удалить и сам
            образ, что приведет к удалению всех его слоев, загруженных на ваш
            компьютер. Команда удаления образа &mdash; <code>docker rmi</code> с
            указанием уникального <kbd>IMAGE ID</kbd>:</p>
        <code>docker rmi &lt;IMAGE ID&gt;</code>
        <figure>
            <img src="img/python_5.png"
                 alt="Удаление контейнера и образа из системы" height="516"
                 width="1000">
        </figure>
        <p>Таким образом, использование контейнеров &mdash; достаточно простой
            процесс. Кстати, посмотреть все доступные команды можно при помощи
            команды <code>docker -h</code>.</p>
    </section>
    <section>
        <h2 id="part03">
            Установка образа <abbr title="Система управления базами данных">
            СУБД</abbr> <em>PostgreSQL 14</em> из <em>DockerHub</em>
        </h2>
        <p><em><a href="https://www.postgresql.org/"
                  title="Официальный  сайт The PostgreSQL Global Development
            Group" target="_blank">PostgreSQL</a></em> – свободная
            объектно-реляционная <abbr
                    title="Система управления базами данных">СУБД</abbr>,
            которую многие специалисты считают лучшей из <abbr
                    title="Система управления базами данных">СУБД</abbr>,
            основанных на языке <em>SQL</em> (<em>Structured Query
                Language</em>). Обычно развертывание <abbr
                    title="Система управления базами данных">СУБД</abbr> на
            рабочей станции пользователя является не самой простой задачей,
            поскольку предполагает установку и запуск сервера базы данных, а
            также решение ряда проблем, связанных с правами доступа,
            поддержкой русского языка в интерактивном терминале, обеспечением
            безопасности данных и т.&nbsp;д. Далее мы увидим, что при
            использовании <em>Docker</em> установить данную <abbr
                    title="Система управления базами данных">СУБД</abbr> на
            собственный компьютер и использовать ее как для обучения, так и в
            практических целях столь же просто, как и любой другой образ из
            репозитория <em>DockerHub</em>. (Кстати, и обновлять версии <abbr
                    title="Система управления базами данных">СУБД</abbr> тоже
            просто &mdash; достаточно удалить старые контейнер и образ и
            установить новые!)</p>
        <p>Хотя всегда доступен <a href="https://hub.docker.com/_/postgres"
                                   title="Официальный образ Postgres в
                                   DockerHub" target="_blank">официальный образ
            <em>Postgres</em></a>, мы
            воспользуемся <a
                    href="https://hub.docker.com/repository/docker/nobus1967/postgres"
                    title="Модифицированный образ Postgres с русской локалью"
                    target="_blank">модифицированным образом</a> &mdash; в нем
            сразу установлена поддержка русской локали.</p>
        <p>Итак, давайте загрузим пересобранный образ <em>PostgeSQL</em> версии
            14.1 на свой компьютер:</p>
        <code>docker pull nobus1967/postgres:postgres14.1-ru</code>
        <p>Проверим наличие образа и посмотрим его <kbd>IMAGE ID</kbd>: все в
            порядке.</p>
        <p>Далее создадим контейнер, с которым мы и будем работать. В принципе,
            активация <em>Postgres</em>-контейнера принципиально не отличается
            от той процедуры, что мы проделали при запуске
            <em>Python-контейнера</em>, за исключением двух моментов:</p>
        <ol>
            <li>
                Поскольку <em>Postgres</em> является сетевой <abbr
                    title="Система управления базами данных">СУБД</abbr>,
                подключение к ней и обмен информацией происходят через сетевые
                порты <abbr title="Операционная система">ОС</abbr>, которые
                идентифицируют назначение сетевых потоков данных в пределах
                одного компьютера. Стандартным для подключения к
                <em>Postgres</em> является порт <kbd>5432</kbd>, но мы можем
                переназначить это число. В частности, на моем компьютере на порт
                <kbd>5432</kbd> уже назначена локально установленная версия
                <em>Postgres</em>, поэтому я переназначу порт контейнера на
                новый порт моей машины-хоста с номером <kbd>5433</kbd> при
                помощью ключа <code>-p 5433:5432</code>.
            </li>
            <li>
                Активируя контейнер, мы сразу зададим пароль для стандартного
                пользователя с именем <kbd>postgres</kbd> при помощи
                переменных окружения &mdash; для этого воспользуемся ключом
                <code>-e POSTGRES_PASSWORD=PASS</code>, где <kbd>PASS</kbd>
                &mdash; устанавливаемый пользователем пароль доступа; в текущей
                конфигурации зададим его равным 8-ми случайным символам,
                например, <kbd>4FKU8zkW</kbd>.
            </li>
        </ol>
        <figure>
            <img src="img/postgres_1.png" alt="Установка контейнера c Postgres"
                 height="430" width="1000">
        </figure>
        <p>Также мы выполним команду первоначальной активации контейнера
            <code>docker run</code> с ключом <code>-d</code>, что позволит
            запустить его в фоновом режиме. Итак, поехали:</p>
        <code>docker run -d -p 5433:5432 --name postgres14.1 -e
            POSTGRES_PASSWORD=4FKU8zkW nobus1967/postgres:postgres14.1-ru</code>
        <p>Проверим наличие запущенного контейнера и увидим, что он подключен к
            нужному порту: порту <kbd>5432</kbd> в контейнере и порту
            <kbd>5433</kbd> в <abbr title="Операционная система">ОС</abbr>.
            Теперь можно остановить наш новый контейнер.</p>
        <figure>
            <img src="img/postgres_2.png"
                 alt="Первоначальный запуск контейнера с Postgres"
                 height="408" width="1000">
        </figure>
    </section>
    <section>
        <h2 id="part04">
            Запуск и использование контейнера с <abbr
                title="Система управления базами данных">СУБД</abbr>
        </h2>
        <p>Далее мы подключимся к контейнеру с <em>Postgres</em> и попробуем
            выполнить несколько команд в стандартном интерактивном терминале
            <abbr title="Система управления базами данных">СУБД</abbr>.</p>
        <p>Запустим контейнер в интерактивном режиме:</p>
        <code>docker start -i postgres14.1</code>
        <figure>
            <img src="img/postgres_3.png"
                 alt="Запуск контейнера с Postgres в интерактивном режиме"
                 height="410" width="1000">
        </figure>
        <p><abbr title="Система управления базами данных">СУБД</abbr>
            запустилась и мы увидели сообщения на русском языке, но доступа к
            интерактивному терминалу так и не получили. Давайте остановим
            контейнер (воспользуемся в терминале комбинацией клавиш
            <kbd>CTRL+C</kbd>) и заново стартуем контейнер в стандартном
            режиме, а потом подключимся к нему командой <code>docker exec</code>
            c ключом <code>-it postgres14.1 bash</code> (т.&nbsp;е. в
            интерактивном режиме с запущенной командной оболочкой
            <em>bash</em>):</p>
        <code>docker exec -it postgres14.1 bash</code>
        <figure>
            <img src="img/postgres_4.png"
                 alt="Запуск контейнера с Postgres в интерактивном режиме"
                 height="420" width="1000">
        </figure>
        <p>Отлично, мы увидели приглашение командной оболочки <code>#</code>,
            введем в нее команду <code>su postgres</code>, чтобы стать
            пользователем с установленным по умолчанию именем, а затем запустим
            внутренний интерактивный терминал <abbr
                    title="Система управления базами данных">СУБД</abbr>
            командой <code>psql</code>. Далее протестируем работу интерактивного
            терминала командой <code>\conninfo</code>.</p>
        <figure>
            <img src="img/postgres_5.png"
                 alt="Запуск контейнера с Postgres в интерактивном режиме"
                 height="424" width="1000">
        </figure>
        <p>Теперь можно работать с <abbr
				title="Система управления базами данных">СУБД</abbr>. Кстати,
            русскоязычная версия документации доступна на <a
                    href="https://postgrespro.ru/docs/postgresql/14/index"
                    title="Сайт компании Postgres Pro">сайте компании Postgres
                Pro</a>. На том же ресурсе размещена
			<a href="https://postgrespro.ru/education/books"
			   title="Литература по PostgreSQL">бесплатная литература по
				PostgreSQL</a>.</p>
        <p>В завершение нашего сеанса выйдем из интерактивного терминала
            <em>Postgres</em> командой <code>\q</code>, а затем выйдем из-под
            пользователя <kbd>postgres</kbd> и из <em>bash</em> двумя командами
            <code>exit</code> (вторая команда не остановит наш контейнер,
            сделаем это вручную командой <code>docker stop</code>).</p>
        <h3>UPDATE:</h3>
        <p>Рекомендуется проверить наличие более свежих образов
            <em>PostgreSQL</em> в
            <a href="https://hub.docker.com/repository/docker/nobus1967/postgres"
               title="Репозиторий с русифицированными образами PostgeSQL"
               target="_blank">данном репозитории</a>.</p>
    </section>
    <section>
        <h2 id="part05">
            Работа со сторонними приложениями (на примере <em>Beekeeper
            Studio</em>)
        </h2>
        <p>Интерактивный терминал <em>Postgres</em> позволяет полноценно
            работать с <abbr
                    title="Система управления базами данных">СУБД</abbr>, но для
            удобства можно использовать приложения с графическим интерфейсом
            пользователя, такие как бесплатное кроссплатформенное приложение
            <em><a href="https://www.beekeeperstudio.io/"
                   title="Сайт Beekeeper Studio" target="_blank">Beekeeper
                Studio</a></em>.</p>
        <figure>
            <img src="img/beekeper_1.png"
                 alt="Окно Beekeeper Studio с настройками для запуска
                     PostgreSQL" height="700" width="1000">
        </figure>
        <p>После установки <em>Beekeeper Studio</em> можно легко подключиться к
            контейнеру через заданный порт (настройки видны на скриншоте;
            пароль мы используем тот же, что и при активации контейнера). Только
            не забывайте перед подключением стартовать контейнер!</p>
        <figure>
            <img src="img/beekeper_2.png"
                 alt="Окно Beekeeper Studio с запущенной СУБД PostgreSQL"
                 height="700" width="1000">
        </figure>
        <p>Теперь работать с базой данных стало намного удобнее, в том числе не
            только выполнять запросы, но и сохранять их для дальнейшего
            использования.</p>
        <p>Удачной вам докеризации!</p>
    </section>
</main>
<footer>
    <p><a href="#beginning" title="Вверх, к началу страницы">&uarr;&nbsp;К
        началу страницы</a></p>
    <address>&copy;&nbsp;<a href="/index.html" title="Сайт Анатолия Щербины">Анатолий
        Щербина</a>, 24.12.2021
    </address>
</footer>
</body>

</html>
